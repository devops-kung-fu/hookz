  version: 2.1.1
  hooks:
    - type: pre-commit
      actions:
        - name: "Git Pull (Ensure there are no upstream changes that are not local)"
          exec: git
          args: ["pull"]
        - name: "Go Tidy (Recursive)"
          script: "
            #!/bin/bash \n
            echo -e In the script!!! \n
            for f in $(find . -name go.mod); \n 
              do (cd $(dirname $f); \n
                go mod tidy -v); \n
            done \n
            "
        - name: "Update all go dependencies to latest"
          exec: go
          args: ["get", "-u", "./..."]
        - name: "Run gofmt to format the code"
          exec: gofmt
          args: ["-w", "*/*.go"]
        - name: "Add all changed files during the pre-commit stage"
          exec: git
          args: ["add", "."]
    - type: post-commit
      actions:
      - name: "Post Echo"
        exec: echo
        args: ["-e", "Done!"]
